[原文链接](http://www.rabbitmq.com/tutorials/amqp-concepts.html)

- 什么是AMQP 0-9-1 ?

  AMQP（高级消息队列协议）是一个消息协议，使应用程序可以和消息中间件通讯。

- AMQP中的角色

  消息代理(消息中间件，message broker)接受从发布者(发布消息的应用程序，也称为生产者)发送的消息，并路由消息到消费者(处理消息的应用程序)。
  因为AMQP是网络协议，生产者、消费者和消息代理可以部署在不同的机器上。

- AMQP 0-9-1 模型简介

  AMQP 0-9-1 模型：消息被发布到交换机(exchange)，交换机然后运用路由规则（称之为绑定(binding))将消息分发复制到队列, 然后消息代理要么投递消息到订阅队列的消费者，要么消费者从队列拉取消息。

  ![xxx](../images/hello-world-example-routing.png)

  当发布一个消息，生产者可以指定消息属性(消息元数据)，其中某些元数据可以被中间件使用。然而，剩下的消息体{//TO CHECK}部分对中间件是不可见的，只能被接受到该消息的应用程序使用。

  网络的不可靠，以及应用程序也可能处理消息失败，因此AMQP模型存在一个概念：消息确认(message acknowledgements)。当消息已经投递给消费者，该消费者发送消息确认通知代理，代理收到消息确认后从队列中将该消息删除。

  在某些情况下，比如消息不能被路由时，消息可能返回给生产者，可能丢弃，也可能放入“死信队列”，生产者通过使用一些参数来选择如何处理这些情况。

  队列，交换机和绑定都称为AMQP实体。

- AMQP是一个可编程协议

	